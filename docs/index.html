<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>SandstormSDK</title>
    <link href="images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "";</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
const savedDarkMode = storage ? JSON.parse(storage) : false
if(savedDarkMode === true){
    document.getElementsByTagName("html")[0].classList.add("theme-dark")
}</script>
<script type="text/javascript" src="scripts/sourceset_dependencies.js" async="async"></script>
<link href="styles/style.css" rel="Stylesheet">
<link href="styles/jetbrains-mono.css" rel="Stylesheet">
<link href="styles/main.css" rel="Stylesheet">
<link href="styles/prism.css" rel="Stylesheet">
<link href="styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="scripts/prism.js" async="async"></script>
</head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
            <a href="index.html">
                    <span>SandstormSDK</span>
            </a>
    </div>
    <div>
    </div>
    <div class="pull-right d-flex">
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" id="content" pageIds="SandstormSDK::////PointingToDeclaration//459874919">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span>Sandstorm</span><wbr></wbr><span><span>SDK</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":sandstormsdk:dokkaHtml/release"><h2 class=""> Overview</h2><p class="paragraph"><strong>SandstormSDK</strong> provides in-game, intermission and bounty audio ads and allows publishers to generate new revenues from world-class brands. Generator and player for personalized VAST audio advertisement. Sandstorm is all-you-need SDK for your in-app audio advertisement. The framework provides automatically generated, personalized ads with already prepared player. Use it without additional third party configuration to play the ad in your app.</p><h1 class=""> Tutorial</h1><p class="paragraph">Below is a tutorial on how to add the library to your project and how to use it. More information on specific methods can be found in the documentation.</p><h2 class=""> Minimum requirements</h2><ul><li><p class="paragraph">minSdkVersion is set to 24</p></li><li><p class="paragraph">targetSdkVersion must be set at least to 32</p></li><li><p class="paragraph">multiDexEnabled shall be set to true</p></li></ul><h2 class=""> Installation</h2><h3 class=""> Choose SDK versions</h3><p class="paragraph">You have to decide which version of SDK you want to use. Two available:</p><p class="paragraph"><strong>SandstormSDK</strong> - contains SDK functionality + extra user profiling; this version will ask user for extra permissions (i.e. location)</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea"><p class="paragraph">Profiling mechanism used is an AI functionality, which predicts the live context of a user (e.g. running, commuting) from sensors present in the device, and then packages them neatly into ID-less behavioural audiences (e.g. joggers, frequent shoppers).</p></code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph"><strong>SandstormLiteSDK</strong> - contains SDK functionality without extra user targeting; this version won't ask user for extra permissions</p><p class="paragraph">The method of installation depends on how the library was given. If an aar file was provided then adding to the project is by manual means. Regardless of how you obtained the library, you must add the following code to the application manifest between the application tags:</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;activity android:name=&quot;com.adtonos.thundersdk.ui.ThunderActivity&quot;<br>    android:theme=&quot;@style/AppTheme.Transparent&quot; /&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Manual installation</h3><p class="paragraph">Copy the aar files to the &quot;libs&quot; directory of your project.</p><h4 class=""> Add Repository</h4><p class="paragraph">In the base project gradle file, find the &quot;repositories&quot; section and add the following entry to it, if you want to use full version of library:</p><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">allprojects {<br>    repositories {<br>        ... other repositiories<br>        maven {<br>            // Required for full version with additional targeting<br>            url 'https://repo.numbereight.ai/artifactory/gradle-release-local'<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h4 class=""> Add dependencies</h4><p class="paragraph">In the application gradle file, find the &quot;dependencies&quot; section and add the following entries to it.</p><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">// Required for lite version<br>implementation('com.adtonos:thunder-lite-sdk:1.0@aar')<br>implementation('com.adtonos:sandstorm-lite-sdk:1.0@aar')<br><br>// Required for full version with additional targeting<br>implementation('com.adtonos:thunder-sdk:1.0@aar')<br>implementation('com.adtonos:sandstorm-sdk:1.0@aar')<br>implementation('ai.numbereight.sdk:nesdk:3.4.0@aar') { transitive = true }<br>implementation('ai.numbereight.sdk:audiences:3.4.0')<br><br>// The following libraries can be updated according to project needs. <br>// The versions listed are recommended.<br>implementation('org.jetbrains.kotlin:kotlin-stdlib:1.7.0')<br>implementation('androidx.core:core-ktx:1.8.0')<br>implementation('androidx.appcompat:appcompat:1.4.2')<br>implementation('org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.2')<br>implementation('androidx.multidex:multidex:2.0.1')<br>implementation('com.google.guava:guava:31.1-android')<br>implementation('com.google.android.gms:play-services-ads-identifier:18.0.1')<br>implementation('com.google.android.exoplayer:exoplayer-core:2.18.1')<br>implementation('com.google.android.exoplayer:extension-ima:2.18.1')</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class=""> System permissions</h2><p class="paragraph">During the first startup, the library will ask the user to grant system permissions. The process is automatic.</p><p class="paragraph">The following system permissions are used by the library. They will be merged during build, so you do not need to declare them again in the application manifest.</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;!-- Required for full and lite version --&gt;<br>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;<br>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;<br>&lt;uses-permission android:name=&quot;android.permission.DOWNLOAD_WITHOUT_NOTIFICATION&quot; /&gt;<br><br>&lt;!-- Required for full version --&gt;<br>&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;<br>&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;<br>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;<br>&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;<br>&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;<br>&lt;uses-feature android:name=&quot;android.hardware.sensor.accelerometer&quot; android:required=&quot;true&quot; /&gt;<br>&lt;uses-feature android:name=&quot;android.hardware.location&quot; android:required=&quot;false&quot; /&gt;<br>&lt;uses-feature android:name=&quot;android.hardware.sensor.gyroscope&quot; android:required=&quot;false&quot; /&gt;<br>&lt;uses-feature android:name=&quot;android.hardware.sensor.barometer&quot; android:required=&quot;false&quot; /&gt;<br>&lt;uses-feature android:name=&quot;android.hardware.sensor.compass&quot; android:required=&quot;false&quot; /&gt;<br>&lt;uses-feature android:name=&quot;android.hardware.sensor.light&quot; android:required=&quot;false&quot; /&gt;<br>&lt;uses-feature android:name=&quot;android.hardware.sensor.proximity&quot; android:required=&quot;false&quot; /&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class=""> Consents</h2><p class="paragraph">To work properly, the SDK needs consents. Depending on the region, please ask the user if they agree to the following. In some regions, such as the EU, consent is required to allow third-parties to store data on users devices for example.</p><h3 class=""> AdTonosConsent.AllowAll</h3><p class="paragraph">Below is a list of what is included in this option:</p><ul><li><p class="paragraph"><code class="lang-kotlin">PROCESSING</code> - Allow processing of data.</p></li><li><p class="paragraph"><code class="lang-kotlin">SENSOR_ACCESS</code> - Allow use of the device's sensor data.</p></li><li><p class="paragraph"><code class="lang-kotlin">STORAGE</code> - Allow storing and accessing information on the device.</p></li><li><p class="paragraph"><code class="lang-kotlin">USE_FOR_AD_PROFILES</code> - Allow use of technology for personalised ads.</p></li><li><p class="paragraph"><code class="lang-kotlin">USE_FOR_PERSONALISED_CONTENT</code> - Allow use of technology for personalised content.</p></li><li><p class="paragraph"><code class="lang-kotlin">USE_FOR_REPORTING</code> - Allow use of technology for market research and audience insights.</p></li><li><p class="paragraph"><code class="lang-kotlin">USE_FOR_IMPROVEMENT</code> - Allow use of technology for improving  products.</p></li><li><p class="paragraph"><code class="lang-kotlin">LINKING_DEVICES</code> - Allow linking different devices to the user through deterministic or probabilistic means.</p></li><li><p class="paragraph"><code class="lang-kotlin">USE_OF_DEVICE_INFO</code> - Allow use of automatically provided device information such as manufacturer, model, IP addresses and MAC addresses.</p></li><li><p class="paragraph"><code class="lang-kotlin">USE_FOR_SECURITY</code> - Allow use of independent identifiers to ensure the secure operation of systems.</p></li><li><p class="paragraph"><code class="lang-kotlin">USE_FOR_DIAGNOSTICS</code> - Allow processing of diagnostic information using an independent identifier to ensure the correct operation of systems.</p></li><li><p class="paragraph"><code class="lang-kotlin">PRECISE_GEOLOCATION</code> - Allow use of precise geolocation data (within 500 metres accuracy).</p></li></ul><h3 class=""> AdTonosConsent.None</h3><p class="paragraph">It is possible to start adTonos with option without accepted consents, but it will not collect data about the user then, so the advertisement will not be personalized appropriately to the user.</p><h2 class=""> Sequence of steps</h2><ul><li><p class="paragraph">Call ATSandstormSDK.initialize method at initialization time of the app.</p></li><li><p class="paragraph">Call ATSandstormSDK.addCallback with Thunder callback to listen for sdk state changes</p></li><li><p class="paragraph">Call ATSandstormSDK.start method once the user has agreed to the privacy policy by providing the type of consent.</p></li><li><p class="paragraph">Call ATSandstormSDK.createBuilder method and fill AdTonos key with ThunderVastUrlBuilder.setAdTonosKey</p></li><li><p class="paragraph">On the instance of ThunderVastUrlBuilder call ThunderVastUrlBuilder.build method to get URL</p></li><li><p class="paragraph">Repeat last step every time VAST link is required</p></li><li><p class="paragraph">Call ATSandstormSDK.addCallback with Sandstorm callback to listen for vast player changes</p></li><li><p class="paragraph">To get ads call ATSandstormSDK.requestAds and pass there instance of ThunderVastUrlBuilder</p></li><li><p class="paragraph">Call ATSandstormSDK.playAd / ATSandstormSDK.pauseAd</p></li><li><p class="paragraph">If foreground is lost, then the ATSandstormSDK.pauseAd method has to be invoked</p></li><li><p class="paragraph">When application is being destroyed call ATThunderSDK.dispose method to free all resources</p></li></ul><h2 class=""> Start SDK and create builder</h2><h3 class=""> Initialization</h3><p class="paragraph">The first necessary step in the project is to call the ATSandstormSDK.Initialize method. It should be called at the start of the application, when the other components are created. The method is safe to be called multiple times. The Initialize method must be called every time the application starts. Below is an example of how this should be done:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.initialize(context = applicationContext)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Profiling key</h3><p class="paragraph"><strong>This chapter is required for full version with additional targeting.</strong> Before calling start method please invoke setProfilingKey method with your obtained key to ensure proper work of sdk.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.setProfilingKey(&quot;KEY&quot;)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Start</h3><p class="paragraph">The library requires certain permissions and user consents for data collection. Therefore, one of the initial screens should show the user the terms and conditions containing the necessary information about the use and processing of personal data. This is done when the user first interacts with the application, so this is a good time to call the Start method. The method takes the consent flag as a parameter and then asks the user for the system permissions necessary for the application to work. The start method must be called every time the application starts. Additionally, the LoadLatestConsents method can be used, which returns the most recently granted consents. Below is an example of how this can be done:</p><p class="paragraph">Pass one of available targeting types as a function parameter:</p><ul><li><p class="paragraph">AdTonosConsent.None</p></li><li><p class="paragraph">AdTonosConsent.AllowAll</p></li></ul><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.start(context = applicationContext, consent = AdTonosConsent.None)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">To check if SandstormSDK is started it is possible to use the isStarted variable.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.isStarted()</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h4 class=""> Save consents</h4><p class="paragraph">In case you want to change the consents, you can use the method save.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.saveConsents(context, AdTonosConsent.None)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h4 class=""> Load consents</h4><p class="paragraph">You can also get the last set consents using the method loadLatestConsent.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.loadLatestConsents()</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Generate VAST link</h3><p class="paragraph">To generate a VAST link, create a builder and then set the AdTonos key. Optionally, if you want to use a language other than preferred in the system, you can set it with <code class="lang-kotlin">`.setLanguage(lang:String)`</code>. Language must be provided in <strong>ISO-639-1</strong> or <strong>ISO-639-2</strong> format. </p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val builder = ATThunderSDK.createBuilder()<br>    .setAdTonosKey(&quot;XXXXX&quot;)          // Sets developer key.<br>    .setLanguage(&quot;en&quot;)               // Sets user language, if different than a system defined.<br>    .setAdType(VastAdType.bannerAd)  // Sets the type of ad. By default VastAdType.regular is set.<br>    .build()</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><ul><li><p class="paragraph"><strong>AdTonos key</strong> - Where to find AdTonosKey?  It's provided by AdTonos on the portal and can be extracted from the link:</p></li></ul><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea"><p class="paragraph"><a href="">https://play.adtonos.com/xml/XXXXX/vast.xml</a></p></code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph"> where XXXXX is the AdTonos key. AdTonos usually provides two links, one for testing purposes and one for release. During development testing key shall be used.</p><h2 class=""> Sample usage</h2><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">fun onAppStarted() {<br>    CoroutineScope(Dispatchers.Default).launch {<br>        val consents = ATSandstormSDK.loadLatestConsents()<br><br>        SandstormAdsPlayback().requestAds(applicationContext)<br><br>        if (consents == null) {<br>            //show dialog on main thread<br>            withContext(Dispatchers.Main) {<br>                showPrivacyPolicyDialog()<br>            }<br>        } else {<br>            ATSandstormSDK.start(applicationContext, consents)<br>        }<br>    }<br>}<br><br>fun showPrivacyPolicyDialog() {<br>    // provide result from dialog to onPrivacyPolicyPopupClosed<br>}<br><br>fun onPrivacyPolicyPopupClosed(consents: AdTonosConsent) {<br>    ATSandstormSDK.start(context = applicationContext, consents = consents)<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">To listen for events occurring in sdk you have to create and add ThunderCallback. Callbacks are called on the UI thread, but they should not be blocked.</p><p class="paragraph">Usage with Thunder callback:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">fun onAppStarted() {<br>    CoroutineScope(Dispatchers.Default).launch {<br>        val consents = ATSandstormSDK.loadLatestConsents()<br><br>        addCallback(applicationContext)<br><br>        if (consents == null) {<br>            //show dialog on main thread<br>            withContext(Dispatchers.Main) {<br>                showPrivacyPolicyDialog()<br>            }<br>        } else {<br>            ATSandstormSDK.start(applicationContext, consents)<br>        }<br>    }<br>}<br><br>fun showPrivacyPolicyDialog() {<br>    // provide result from dialog to onPrivacyPolicyPopupClosed<br>}<br><br>fun onPrivacyPolicyPopupClosed(consents: AdTonosConsent) {<br>    ATSandstormSDK.start(context = applicationContext, consents = consents)<br>}<br><br>suspend fun addCallback(context: Context) {<br>    ATSandstormSDK.addCallback(object : ThunderCallback {<br>        override fun onStarted() {<br>            Log.d(&quot;ADTONOS&quot;, &quot;SDK Started&quot;)<br><br>            CoroutineScope(Dispatchers.Default).launch {<br>                SandstormAdsPlayback().requestAds(context)<br>            }<br>        }<br><br>        override fun onError(error: ThunderError) {<br>            Log.e(&quot;ADTONOS&quot;, error.errorMessage ?: error.toString())<br>        }<br>    })<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class=""> Playing Ads</h2><p class="paragraph">There are several steps to follow in order to play the ads. First of all, using the ThunderVastUrlBuilder, enter the AdTonos key. The next step is to make a request for ads using the RequestForAds method. The next steps are to wait for the ads to be obtained and to run the ads. A callback can be useful here to provide information about the current state and any errors. Below is an example of a class that will cause an advertisement to play.</p><p class="paragraph">There are 2 things to note:</p><ul><li><p class="paragraph">the requestForAds, clear, dispose, playAd, pauseAd methods must be run on the UI thread. How to call it is left to developers, due to the possibility of using RxJava or coroutines and proper thread management.</p></li><li><p class="paragraph">callbacks are called on the UI thread, for this reason they should not be blocked by unnecessary operations.</p></li></ul><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">import com.adtonos.sandstormsdk.api.ATSandstormSDK<br><br>class SandstormAdsPlayback: SandstormCallback<br>{<br>    private val uiScope = CoroutineScope(Dispatchers.Main)<br><br><br>    override fun onVastAdPaused() {<br>        Log.d(&quot;ADTONOS&quot;, &quot;Ad Paused&quot;)<br>    }<br><br>    override fun onVastAdPlayStarted() {<br>        Log.d(&quot;ADTONOS&quot;, &quot;Ad Play&quot;)<br>    }<br><br>    override fun onVastAdsAvailabilityExpired() {<br>        Log.d(&quot;ADTONOS&quot;, &quot;Ad Expired&quot;)<br>    }<br><br>    override fun onVastAdsEnded() {<br>        Log.d(&quot;ADTONOS&quot;, &quot;Ad Ended&quot;)<br>    }<br><br>    override fun onVastAdsLoaded() {<br>        Log.d(&quot;ADTONOS&quot;, &quot;Ad Loaded&quot;)<br>        ATSandstormSDK.playAd()<br>    }<br><br>    override fun onVastAdsStarted() {<br>        Log.d(&quot;ADTONOS&quot;, &quot;Ad Started&quot;)<br>    }<br><br>    override fun onVastError(error: AdTonosVastError) {<br>        Log.e(&quot;ADTONOS&quot;, &quot;Ad Error&quot;)<br>    }<br><br>    suspend fun requestAds(context: Context) {<br>        /*<br>        without thunder callback:<br><br>        val isStarted = GlobalScope.async {<br>            do {<br>                delay(100)<br>            } while (!ATSandstormSDK.isStarted())<br><br>        }<br>        isStarted.await()<br>        */<br><br>        ATSandstormSDK.addCallback(this@SandstormAdsPlayback)<br><br>        val builder = ATSandstormSDK.createBuilder()<br>            .setAdTonosKey(&quot;&quot;) //PASS HERE YOUR ADTONOS KEY<br><br>        withContext(Dispatchers.Main) {<br>            when (ATSandstormSDK.requestForAds(context, builder)) {<br>                SandstormAdRequestResult.success -&gt; {<br>                    Log.d(&quot;ADTONOS&quot;, &quot;Request started&quot;)<br>                }<br>                SandstormAdRequestResult.inProgress -&gt; TODO()<br>                SandstormAdRequestResult.failed -&gt; TODO()<br>                SandstormAdRequestResult.alreadyPrepared -&gt; TODO()<br>                SandstormAdRequestResult.invalidKey -&gt; TODO()<br>                SandstormAdRequestResult.invalidLanguage -&gt; TODO() <br>            } <br>        }<br>    } <br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Call onPause when foreground is lost</h3><p class="paragraph">If foreground is lost, then the pauseAd method has to be invoked.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Invoked from main activity<br>override fun onPause() {<br>    super.onPause()<br><br>    //If foreground is lost,then the pause method has to be invoked.<br>    ATSandstormSDK.pauseAd()<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Clearing and Disposing</h3><p class="paragraph">You can call the clear method at any time, which will stop the playback and clear the current state of the ad playback. After calling the clear method, the ad request must be executed again. The clear method also executes automatically when the ad playback has finished or after critical errors that prevent playback.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.clear()</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">To release the memory used by the library completely, call the dispose method. This is usually done when exiting the application. Note that after the dispose method is executed, the only way to restore ad functionality is to call initialize and start again.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// Invoked from main activity<br>override fun onDestroy() {<br>    ATSandstormSDK.dispose()<br><br>    super.onDestroy()<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class=""> Banners</h2><p class="paragraph">The SDK has the ability to play audio ads with a banner. If you want to use such an advertisement use the <code class="lang-kotlin">setAdType(VastAdType.bannerAd)</code> method in <code class="lang-kotlin">ThunderVastURLBuilder</code></p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val builder = ATThunderSDK.createBuilder()<br>    .setAdTonosKey(&quot;XXXXX&quot;)          // Sets developer key.<br>    .setLanguage(&quot;en&quot;)               // Sets user language, if different than a system defined.<br>    .setAdType(VastAdType.bannerAd)  // Sets the type of ad. By default VastAdType.regular is set.<br>    .build()</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Banner view setup</h3><p class="paragraph">It's necessary to set banner container view declared in xml if you want to use banner ads. It's also necessary to add banner view to all activity layouts if banner should be visible across all activities. Additionally to avoid lifecycle problems add setBannerContainer and addLifecycleObserver methods in onResume of all activities.</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;com.adtonos.sandstormsdk.core.SandstormBannerView<br>    android:id=&quot;@+id/sandstormBannerView&quot;<br>    android:layout_width=&quot;wrap_content&quot;<br>    android:layout_height=&quot;wrap_content&quot; /&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.setBannerContainer(findViewById(R.id.sandstormBannerView))<br>ATSandstormSDK.addLifecycleObserver(lifecycle)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class=""> Setting the banner position</h3><p class="paragraph">The SDK offers to set the banner position, to do this use the following method:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">ATSandstormSDK.setBannerPosition(SandstormBannerPosition.bottom) </code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">It is possible to display the banner view at the <strong>top</strong> of the screen or at the <strong>bottom</strong>.</p><p class="paragraph">By default, the banner will be displayed at the <strong>top</strong> of the screen. The method needs to be called before the ads are played.</p><h2 class=""> Documentation</h2><p class="paragraph">Please see extended documentation from repository to get information about possible errors and other methods that can be invoked.</p></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="218592522%2FPackages%2F459874919" anchor-label="com.adtonos.sandstormsdk.api" id="218592522%2FPackages%2F459874919" data-filterable-set=":sandstormsdk:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":sandstormsdk:dokkaHtml/release" data-filterable-set=":sandstormsdk:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-sandstorm-s-d-k/com.adtonos.sandstormsdk.api/index.html">com.adtonos.sandstormsdk.api</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="218592522%2FPackages%2F459874919"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right"></div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="1537864875%2FPackages%2F459874919" anchor-label="com.adtonos.thundersdk.api" id="1537864875%2FPackages%2F459874919" data-filterable-set=":sandstormsdk:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":sandstormsdk:dokkaHtml/release" data-filterable-set=":sandstormsdk:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-sandstorm-s-d-k/com.adtonos.thundersdk.api/index.html">com.adtonos.thundersdk.api</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1537864875%2FPackages%2F459874919"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right"></div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2024 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
        </div>
    </div>
</div>
</body>
</html>
